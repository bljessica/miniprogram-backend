# MiniProgram-Backend
考研政治刷题小程序NodeJS后端代码

## 1、项目简介
这是一款基于uni.app前端开发平台，使用MongoDB数据库+Express框架开发的微信小程序。

本小程序旨在为方便考研学生进行考研政治题目进行章节练习、智能模考的需求的用户开发，包含章节练习、随机练习、智能模考、错题重练等功能，使用户能更好地准备考研政治，提高自己的分数。

## 2、技术
+ node.js+express框架
+ mongodb数据库

## 3、运行
安装依赖
```
$ npm install
```
将题目存入数据库
```
$ cd miniprogram-backend/util

$ node saveOriginQuestions.js
```
运行服务器
```
$ cd miniprogram-backend

$ node app.js
```

## 4、功能
### 用户
+ 获取用户头像和昵称
+ 存入用户头像和昵称
+ 更新用户个人信息
+ 获取用户个人信息
+ 根据临时code获取openID
+ 坚持天数最多的20名用户
+ 刷题数量最多的20名用户

### 题目
+ 获取某科目的所有题目
+ 获取某科目下某章节的所有题目
+ 获取随机的20道题
+ 获取某科目的一套模拟题（单选16道，多选17道）
+ 新增一道题目
+ 获取某题目内容
+ 获取某科目下的所有章节名
+ 错题重练（随机20道， 小于则全返回）

### 笔记
+ 为某题添加或更新笔记
+ 获取用户某题的笔记
+ 删除笔记
+ 获取用户某科目下的所有笔记 

### 收藏
+ 收藏题目
+ 取消收藏某题
+ 某道题是否收藏
+ 获取收藏的题目

### 做题结果
+ 将某题标记为错题
+ 将某题加入已做过的题目(做对)
+ 存储模拟题做题结果 

### 进度/正确率
+ 各科目总题数，(个人)做过的，正确率，进度
+ 某科目各章总题数+每章做过的题数
+ 某题的用户正确率（做对这题的人数/做过这题的人数）

### 公告栏
+ 获取公告栏内容
+ 修改公告栏内容

### 管理员
+ 判断是否为管理员

## 5、mocha测试
在app.js中将原httpServer注释掉，打开最后三行导出模块的注释
```
$ mocha
```
